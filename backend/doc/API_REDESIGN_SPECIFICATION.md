# ä¿¡ç”¨å¡ç®¡ç†ç³»ç»Ÿ API é‡è®¾è®¡è§„èŒƒæ–‡æ¡£

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0  
**åˆ›å»ºæ—¥æœŸ**: 2024å¹´12æœˆ  
**ä½œè€…**: LEO  
**é‚®ç®±**: leoyfm@gmail.com  

## ğŸ“‹ æ–‡æ¡£æ¦‚è¿°

æœ¬æ–‡æ¡£è¯¦ç»†æè¿°äº†ä¿¡ç”¨å¡ç®¡ç†ç³»ç»Ÿåç«¯APIçš„é‡æ–°è®¾è®¡æ–¹æ¡ˆï¼Œé‡ç‚¹å…³æ³¨ä¸ºæ™®é€šç”¨æˆ·å’Œç³»ç»Ÿç®¡ç†å‘˜ä¸¤ä¸ªä¸åŒè§’è‰²æä¾›å·®å¼‚åŒ–çš„æœåŠ¡ã€‚é€šè¿‡æ¸…æ™°çš„æƒé™åˆ†ç¦»ã€æ•°æ®éš”ç¦»å’ŒåŠŸèƒ½åˆ’åˆ†ï¼Œç¡®ä¿ç³»ç»Ÿçš„å®‰å…¨æ€§ã€å¯ç»´æŠ¤æ€§å’Œç”¨æˆ·ä½“éªŒã€‚

## ğŸ¯ è®¾è®¡ç›®æ ‡

### 1. æ ¸å¿ƒç›®æ ‡
- **è§’è‰²åˆ†ç¦»**: æ˜ç¡®åŒºåˆ†æ™®é€šç”¨æˆ·å’Œç®¡ç†å‘˜çš„åŠŸèƒ½è¾¹ç•Œ
- **æ•°æ®å®‰å…¨**: ç¡®ä¿ç”¨æˆ·æ•°æ®éšç§å’Œç³»ç»Ÿæ•°æ®å®‰å…¨
- **æƒé™æ§åˆ¶**: å®ç°ç»†ç²’åº¦çš„æƒé™ç®¡ç†æœºåˆ¶
- **ç”¨æˆ·ä½“éªŒ**: ä¸ºä¸åŒè§’è‰²æä¾›æœ€ä¼˜çš„APIä½¿ç”¨ä½“éªŒ
- **ç³»ç»Ÿå¯ç»´æŠ¤**: æ¸…æ™°çš„æ¶æ„è®¾è®¡ä¾¿äºåç»­æ‰©å±•ç»´æŠ¤

### 2. è®¾è®¡åŸåˆ™
- **æœ€å°æƒé™åŸåˆ™**: ç”¨æˆ·åªèƒ½è®¿é—®å¿…éœ€çš„åŠŸèƒ½å’Œæ•°æ®
- **æ•°æ®éš”ç¦»åŸåˆ™**: ç”¨æˆ·æ•°æ®å®Œå…¨éš”ç¦»ï¼Œç®¡ç†å‘˜æ•°æ®ç»Ÿè®¡åŒ–
- **åŠŸèƒ½åˆ†ç¦»åŸåˆ™**: ä¸šåŠ¡åŠŸèƒ½å’Œç®¡ç†åŠŸèƒ½å®Œå…¨åˆ†ç¦»
- **å®‰å…¨ä¼˜å…ˆåŸåˆ™**: æ‰€æœ‰è®¾è®¡éƒ½ä»¥å®‰å…¨ä¸ºé¦–è¦è€ƒè™‘
- **æ‰©å±•æ€§åŸåˆ™**: é¢„ç•™è¶³å¤Ÿçš„æ‰©å±•ç©ºé—´

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„è®¾è®¡

### 1. è§’è‰²å®šä¹‰

#### 1.1 æ™®é€šç”¨æˆ· (User)
**è§’è‰²æè¿°**: ä¸ªäººä¿¡ç”¨å¡ç®¡ç†è€…ï¼Œä½¿ç”¨ç³»ç»Ÿç®¡ç†è‡ªå·±çš„ä¿¡ç”¨å¡ç›¸å…³ä¿¡æ¯

**æ ¸å¿ƒèŒè´£**:
- ç®¡ç†ä¸ªäººä¿¡ç”¨å¡ä¿¡æ¯
- è®°å½•å’Œåˆ†æä¸ªäººäº¤æ˜“æ•°æ®
- è®¾ç½®å’Œç®¡ç†è¿˜æ¬¾æé†’
- é…ç½®ä¸ªäººå¹´è´¹è§„åˆ™
- æŸ¥çœ‹ä¸ªäººç»Ÿè®¡åˆ†æ
- æ¥æ”¶æ™ºèƒ½æ¨èæœåŠ¡

**æƒé™èŒƒå›´**:
- å®Œå…¨æ§åˆ¶è‡ªå·±çš„æ•°æ®ï¼ˆCRUDï¼‰
- åªèƒ½æŸ¥çœ‹è‡ªå·±çš„ä¿¡æ¯
- æ— æ³•è®¿é—®å…¶ä»–ç”¨æˆ·æ•°æ®
- æ— æ³•æ‰§è¡Œç³»ç»Ÿç®¡ç†æ“ä½œ

#### 1.2 ç³»ç»Ÿç®¡ç†å‘˜ (Admin)
**è§’è‰²æè¿°**: ç³»ç»Ÿè¿è¥å’Œç®¡ç†è€…ï¼Œè´Ÿè´£ç”¨æˆ·ç®¡ç†å’Œç³»ç»Ÿç»´æŠ¤

**æ ¸å¿ƒèŒè´£**:
- ç®¡ç†ç³»ç»Ÿç”¨æˆ·è´¦æˆ·
- ç›‘æ§ç³»ç»Ÿè¿è¡ŒçŠ¶æ€
- ç»´æŠ¤ç³»ç»Ÿé…ç½®å‚æ•°
- åˆ†æä¸šåŠ¡æ•°æ®å’Œè¶‹åŠ¿
- ç®¡ç†ç³»ç»Ÿå†…å®¹å’Œå…¬å‘Š
- å¤„ç†ç³»ç»Ÿå®‰å…¨äº‹åŠ¡

**æƒé™èŒƒå›´**:
- æŸ¥çœ‹å’Œç®¡ç†æ‰€æœ‰ç”¨æˆ·è´¦æˆ·
- è®¿é—®ç³»ç»Ÿç»Ÿè®¡å’Œåˆ†ææ•°æ®
- ä¿®æ”¹ç³»ç»Ÿé…ç½®å’Œå‚æ•°
- æŸ¥çœ‹ç³»ç»Ÿæ—¥å¿—å’Œç›‘æ§æ•°æ®
- å‘å¸ƒç³»ç»Ÿå…¬å‘Šå’Œå†…å®¹
- ä¸èƒ½æŸ¥çœ‹ç”¨æˆ·æ•æ„Ÿæ•°æ®è¯¦æƒ…

### 2. æƒé™ç­‰çº§è®¾è®¡

#### Level 1: å…¬å¼€è®¿é—®
- æ— éœ€è®¤è¯å³å¯è®¿é—®
- åŒ…æ‹¬æ³¨å†Œã€ç™»å½•ã€ç³»ç»Ÿä¿¡æ¯ç­‰
- æ•°æ®å®Œå…¨å…¬å¼€æˆ–æ— æ•æ„Ÿä¿¡æ¯

#### Level 2: ç”¨æˆ·è®¤è¯è®¿é—®
- éœ€è¦æœ‰æ•ˆçš„ç”¨æˆ·ä»¤ç‰Œ
- åªèƒ½è®¿é—®è‡ªå·±çš„æ•°æ®
- æ‰§è¡Œä¸ªäººæ•°æ®ç®¡ç†æ“ä½œ

#### Level 3: ç®¡ç†å‘˜æƒé™è®¿é—®
- éœ€è¦ç®¡ç†å‘˜è§’è‰²ä»¤ç‰Œ
- å¯ä»¥æ‰§è¡Œç³»ç»Ÿç®¡ç†æ“ä½œ
- è®¿é—®ç³»ç»Ÿçº§ç»Ÿè®¡å’Œé…ç½®æ•°æ®

## ğŸ›¤ï¸ APIè·¯ç”±æ¶æ„é‡è®¾è®¡

### 1. ç‰ˆæœ¬æ§åˆ¶è®¾è®¡

#### 1.1 ç‰ˆæœ¬æ§åˆ¶ç­–ç•¥
- **ç‰ˆæœ¬æ ¼å¼**: ä½¿ç”¨è¯­ä¹‰åŒ–ç‰ˆæœ¬æ§åˆ¶ï¼Œæ ¼å¼ä¸º `v{major}.{minor}`
- **URLæ ¼å¼**: `/api/v{major}/`ï¼Œä¾‹å¦‚ `/api/v1/`ã€`/api/v2/`
- **ç‰ˆæœ¬å…¼å®¹**: åŒä¸€ä¸»ç‰ˆæœ¬å†…ä¿æŒå‘åå…¼å®¹ï¼Œè·¨ä¸»ç‰ˆæœ¬å¯èƒ½æœ‰ç ´åæ€§å˜æ›´
- **ç‰ˆæœ¬ç”Ÿå‘½å‘¨æœŸ**: æ–°ç‰ˆæœ¬å‘å¸ƒåï¼Œæ—§ç‰ˆæœ¬ä¿æŒ6ä¸ªæœˆæ”¯æŒæœŸ

#### 1.2 ç‰ˆæœ¬è§„åˆ’
- **v1.0**: å½“å‰é‡è®¾è®¡ç‰ˆæœ¬ï¼ŒåŒ…å«å®Œæ•´ç”¨æˆ·å’Œç®¡ç†å‘˜åŠŸèƒ½
- **v2.0**: é¢„ç•™æ‰©å±•ç‰ˆæœ¬ï¼Œå¯èƒ½åŒ…å«æ–°çš„ä¸šåŠ¡æ¨¡å—æˆ–é‡å¤§æ¶æ„è°ƒæ•´

### 2. è·¯ç”±ç»“æ„æ€»è§ˆ

```
/api/v1/
â”œâ”€â”€ public/                    # å…¬å¼€æ¥å£ï¼ˆLevel 1ï¼‰
â”œâ”€â”€ user/                      # ç”¨æˆ·åŠŸèƒ½åŒºï¼ˆLevel 2ï¼‰
â””â”€â”€ admin/                     # ç®¡ç†å‘˜åŠŸèƒ½åŒºï¼ˆLevel 3ï¼‰
```

### 3. ç‰ˆæœ¬å…¼å®¹æ€§å¤„ç†

#### 3.1 ç‰ˆæœ¬å¤´æ”¯æŒ
```http
# æ–¹å¼1: URLè·¯å¾„ç‰ˆæœ¬ï¼ˆæ¨èï¼‰
GET /api/v1/user/cards/list

# æ–¹å¼2: Acceptå¤´ç‰ˆæœ¬ï¼ˆå¯é€‰ï¼‰
GET /api/user/cards/list
Accept: application/vnd.api+json;version=1
```

#### 3.2 ç‰ˆæœ¬åºŸå¼ƒé€šçŸ¥
```json
{
  "success": true,
  "data": {...},
  "warnings": [
    {
      "code": "DEPRECATED_API",
      "message": "æ­¤APIç‰ˆæœ¬å°†åœ¨2025å¹´6æœˆååœæ­¢æ”¯æŒï¼Œè¯·å‡çº§åˆ°v2ç‰ˆæœ¬",
      "upgrade_url": "/api/v2/user/cards/list"
    }
  ]
}
```

### 4. å…¬å¼€æ¥å£åŒº (/api/v1/public/)

#### 4.1 è®¤è¯ç›¸å…³ (/api/v1/public/auth/)

| æ–¹æ³• | è·¯å¾„ | æè¿° | æƒé™ç­‰çº§ |
|------|------|------|----------|
| POST | `/register` | ç”¨æˆ·æ³¨å†Œ | Level 1 |
| POST | `/login/username` | ç”¨æˆ·åç™»å½• | Level 1 |
| POST | `/login/phone` | æ‰‹æœºå·ç™»å½• | Level 1 |
| POST | `/login/wechat` | å¾®ä¿¡ç™»å½• | Level 1 |
| POST | `/send-code` | å‘é€éªŒè¯ç  | Level 1 |
| POST | `/verify-code` | éªŒè¯éªŒè¯ç  | Level 1 |
| POST | `/reset-password` | é‡ç½®å¯†ç  | Level 1 |
| POST | `/refresh-token` | åˆ·æ–°ä»¤ç‰Œ | Level 1 |

#### 4.2 ç³»ç»Ÿä¿¡æ¯ (/api/v1/public/system/)

| æ–¹æ³• | è·¯å¾„ | æè¿° | æƒé™ç­‰çº§ |
|------|------|------|----------|
| GET | `/health` | å¥åº·æ£€æŸ¥ | Level 1 |
| GET | `/version` | ç‰ˆæœ¬ä¿¡æ¯ | Level 1 |
| GET | `/status` | æœåŠ¡çŠ¶æ€ | Level 1 |

### 5. ç”¨æˆ·åŠŸèƒ½åŒº (/api/v1/user/)

#### 5.1 ä¸ªäººèµ„æ–™ (/api/v1/user/profile/)

| æ–¹æ³• | è·¯å¾„ | æè¿° | æƒé™ç­‰çº§ |
|------|------|------|----------|
| GET | `/info` | è·å–ä¸ªäººä¿¡æ¯ | Level 2 |
| PUT | `/update` | æ›´æ–°ä¸ªäººèµ„æ–™ | Level 2 |
| POST | `/change-password` | ä¿®æ”¹å¯†ç  | Level 2 |
| GET | `/login-logs` | ä¸ªäººç™»å½•æ—¥å¿— | Level 2 |
| POST | `/logout` | é€€å‡ºç™»å½• | Level 2 |
| DELETE | `/account` | æ³¨é”€è´¦æˆ· | Level 2 |

#### 5.2 ä¿¡ç”¨å¡ç®¡ç† (/api/v1/user/cards/)

| æ–¹æ³• | è·¯å¾„ | æè¿° | æƒé™ç­‰çº§ |
|------|------|------|----------|
| GET | `/list` | æˆ‘çš„ä¿¡ç”¨å¡åˆ—è¡¨ | Level 2 |
| POST | `/create` | æ·»åŠ ä¿¡ç”¨å¡ | Level 2 |
| GET | `/{card_id}/details` | ä¿¡ç”¨å¡è¯¦æƒ… | Level 2 |
| PUT | `/{card_id}/update` | æ›´æ–°ä¿¡ç”¨å¡ | Level 2 |
| DELETE | `/{card_id}/delete` | åˆ é™¤ä¿¡ç”¨å¡ | Level 2 |
| PUT | `/{card_id}/status` | æ›´æ–°å¡ç‰‡çŠ¶æ€ | Level 2 |

#### 5.3 äº¤æ˜“ç®¡ç† (/api/v1/user/transactions/)

| æ–¹æ³• | è·¯å¾„ | æè¿° | æƒé™ç­‰çº§ |
|------|------|------|----------|
| GET | `/list` | æˆ‘çš„äº¤æ˜“åˆ—è¡¨ | Level 2 |
| POST | `/create` | è®°å½•æ–°äº¤æ˜“ | Level 2 |
| GET | `/{transaction_id}/details` | äº¤æ˜“è¯¦æƒ… | Level 2 |
| PUT | `/{transaction_id}/update` | æ›´æ–°äº¤æ˜“ | Level 2 |
| DELETE | `/{transaction_id}/delete` | åˆ é™¤äº¤æ˜“ | Level 2 |
| GET | `/categories` | äº¤æ˜“åˆ†ç±» | Level 2 |

#### 5.4 å¹´è´¹ç®¡ç† (/api/v1/user/annual-fees/)

| æ–¹æ³• | è·¯å¾„ | æè¿° | æƒé™ç­‰çº§ |
|------|------|------|----------|
| GET | `/rules` | æˆ‘çš„å¹´è´¹è§„åˆ™ | Level 2 |
| POST | `/rules/create` | åˆ›å»ºå¹´è´¹è§„åˆ™ | Level 2 |
| PUT | `/rules/{rule_id}/update` | æ›´æ–°å¹´è´¹è§„åˆ™ | Level 2 |
| DELETE | `/rules/{rule_id}/delete` | åˆ é™¤å¹´è´¹è§„åˆ™ | Level 2 |
| GET | `/records` | å¹´è´¹è®°å½• | Level 2 |

#### 5.5 è¿˜æ¬¾æé†’ (/api/v1/user/reminders/)

| æ–¹æ³• | è·¯å¾„ | æè¿° | æƒé™ç­‰çº§ |
|------|------|------|----------|
| GET | `/list` | æˆ‘çš„æé†’åˆ—è¡¨ | Level 2 |
| POST | `/create` | åˆ›å»ºæé†’ | Level 2 |
| PUT | `/{reminder_id}/update` | æ›´æ–°æé†’ | Level 2 |
| DELETE | `/{reminder_id}/delete` | åˆ é™¤æé†’ | Level 2 |
| POST | `/{reminder_id}/snooze` | å»¶åæé†’ | Level 2 |

#### 5.6 ä¸ªäººç»Ÿè®¡ (/api/v1/user/statistics/)

| æ–¹æ³• | è·¯å¾„ | æè¿° | æƒé™ç­‰çº§ |
|------|------|------|----------|
| GET | `/overview` | ä¸ªäººæ•°æ®æ€»è§ˆ | Level 2 |
| GET | `/cards` | ä¸ªäººä¿¡ç”¨å¡ç»Ÿè®¡ | Level 2 |
| GET | `/transactions` | ä¸ªäººäº¤æ˜“ç»Ÿè®¡ | Level 2 |
| GET | `/annual-fees` | ä¸ªäººå¹´è´¹ç»Ÿè®¡ | Level 2 |
| GET | `/monthly-trends` | ä¸ªäººæœˆåº¦è¶‹åŠ¿ | Level 2 |
| GET | `/categories` | ä¸ªäººåˆ†ç±»ç»Ÿè®¡ | Level 2 |

#### 5.7 æ™ºèƒ½æ¨è (/api/v1/user/recommendations/)

| æ–¹æ³• | è·¯å¾„ | æè¿° | æƒé™ç­‰çº§ |
|------|------|------|----------|
| GET | `/cards` | ä¿¡ç”¨å¡æ¨è | Level 2 |
| GET | `/offers` | ä¼˜æƒ æ¨è | Level 2 |
| POST | `/feedback` | æ¨èåé¦ˆ | Level 2 |
| GET | `/history` | æ¨èå†å² | Level 2 |

### 6. ç®¡ç†å‘˜åŠŸèƒ½åŒº (/api/v1/admin/)

#### 6.1 ç®¡ç†é¢æ¿ (/api/v1/admin/dashboard/)

| æ–¹æ³• | è·¯å¾„ | æè¿° | æƒé™ç­‰çº§ |
|------|------|------|----------|
| GET | `/overview` | ç³»ç»Ÿæ€»è§ˆ | Level 3 |
| GET | `/metrics` | å…³é”®æŒ‡æ ‡ | Level 3 |
| GET | `/alerts` | ç³»ç»Ÿè­¦æŠ¥ | Level 3 |
| GET | `/activity` | ç³»ç»Ÿæ´»åŠ¨ | Level 3 |

#### 6.2 ç”¨æˆ·ç®¡ç† (/api/v1/admin/users/)

| æ–¹æ³• | è·¯å¾„ | æè¿° | æƒé™ç­‰çº§ |
|------|------|------|----------|
| GET | `/list` | ç”¨æˆ·åˆ—è¡¨ | Level 3 |
| GET | `/{user_id}/details` | ç”¨æˆ·è¯¦æƒ… | Level 3 |
| PUT | `/{user_id}/status` | ç”¨æˆ·çŠ¶æ€ç®¡ç† | Level 3 |
| PUT | `/{user_id}/permissions` | æƒé™ç®¡ç† | Level 3 |
| GET | `/{user_id}/login-logs` | ç”¨æˆ·ç™»å½•æ—¥å¿— | Level 3 |
| DELETE | `/{user_id}/delete` | åˆ é™¤ç”¨æˆ· | Level 3 |
| GET | `/statistics` | ç”¨æˆ·ç»Ÿè®¡ | Level 3 |

#### 6.3 ç³»ç»Ÿç®¡ç† (/api/v1/admin/system/)

| æ–¹æ³• | è·¯å¾„ | æè¿° | æƒé™ç­‰çº§ |
|------|------|------|----------|
| GET | `/config` | ç³»ç»Ÿé…ç½® | Level 3 |
| PUT | `/config` | æ›´æ–°é…ç½® | Level 3 |
| GET | `/logs` | ç³»ç»Ÿæ—¥å¿— | Level 3 |
| GET | `/monitoring` | ç³»ç»Ÿç›‘æ§ | Level 3 |
| POST | `/maintenance` | ç³»ç»Ÿç»´æŠ¤ | Level 3 |

#### 6.4 å†…å®¹ç®¡ç† (/api/v1/admin/content/)

| æ–¹æ³• | è·¯å¾„ | æè¿° | æƒé™ç­‰çº§ |
|------|------|------|----------|
| GET | `/cards-database` | ä¿¡ç”¨å¡æ•°æ®åº“ | Level 3 |
| POST | `/cards-database` | æ·»åŠ å¡ç‰‡ä¿¡æ¯ | Level 3 |
| GET | `/offers` | ä¼˜æƒ æ´»åŠ¨ | Level 3 |
| POST | `/offers` | åˆ›å»ºä¼˜æƒ æ´»åŠ¨ | Level 3 |
| GET | `/announcements` | ç³»ç»Ÿå…¬å‘Š | Level 3 |
| POST | `/announcements` | å‘å¸ƒå…¬å‘Š | Level 3 |

#### 6.5 æ•°æ®åˆ†æ (/api/v1/admin/analytics/)

| æ–¹æ³• | è·¯å¾„ | æè¿° | æƒé™ç­‰çº§ |
|------|------|------|----------|
| GET | `/user-behavior` | ç”¨æˆ·è¡Œä¸ºåˆ†æ | Level 3 |
| GET | `/transaction-trends` | äº¤æ˜“è¶‹åŠ¿åˆ†æ | Level 3 |
| GET | `/card-performance` | å¡ç‰‡æ€§èƒ½åˆ†æ | Level 3 |
| GET | `/system-reports` | ç³»ç»ŸæŠ¥å‘Š | Level 3 |

## ğŸ” æƒé™æ§åˆ¶è¯¦ç»†è®¾è®¡

### 1. è®¤è¯æœºåˆ¶

#### 1.1 JWTä»¤ç‰Œç»“æ„

```json
{
  "sub": "user_id",
  "username": "username",
  "role": "user|admin",
  "permissions": ["read:own", "write:own"],
  "exp": 1734567890,
  "iat": 1734567890
}
```

#### 1.2 æƒé™ä¾èµ–å‡½æ•°

```python
# åŸºç¡€è®¤è¯
async def get_current_user(
    credentials: HTTPAuthorizationCredentials = Depends(security),
    db: Session = Depends(get_db)
) -> UserProfile:
    """è·å–å½“å‰è®¤è¯ç”¨æˆ·"""

# ç®¡ç†å‘˜æƒé™æ£€æŸ¥
async def require_admin(
    current_user: UserProfile = Depends(get_current_user)
) -> UserProfile:
    """è¦æ±‚ç®¡ç†å‘˜æƒé™"""
    if not current_user.is_admin:
        raise HTTPException(403, "éœ€è¦ç®¡ç†å‘˜æƒé™")
    return current_user

# ç”¨æˆ·æˆ–ç®¡ç†å‘˜æƒé™æ£€æŸ¥
async def require_user_or_admin(
    target_user_id: UUID,
    current_user: UserProfile = Depends(get_current_user)
) -> UserProfile:
    """è¦æ±‚æ˜¯ç›®æ ‡ç”¨æˆ·æœ¬äººæˆ–ç®¡ç†å‘˜"""
    if current_user.id != target_user_id and not current_user.is_admin:
        raise HTTPException(403, "æƒé™ä¸è¶³")
    return current_user

# è‡ªæœ‰èµ„æºè®¿é—®æ£€æŸ¥
async def require_resource_owner(
    resource_user_id: UUID,
    current_user: UserProfile = Depends(get_current_user)
) -> UserProfile:
    """è¦æ±‚èµ„æºæ‰€æœ‰è€…æƒé™"""
    if current_user.id != resource_user_id:
        raise HTTPException(403, "åªèƒ½è®¿é—®è‡ªå·±çš„èµ„æº")
    return current_user
```

### 2. æ•°æ®è®¿é—®æ§åˆ¶

#### 2.1 ç”¨æˆ·æ•°æ®è®¿é—®ç­–ç•¥

```python
class UserDataAccessControl:
    """ç”¨æˆ·æ•°æ®è®¿é—®æ§åˆ¶"""
    
    @staticmethod
    def filter_user_data(query, user_id: UUID):
        """è¿‡æ»¤ç”¨æˆ·æ•°æ®ï¼Œåªè¿”å›å±äºè¯¥ç”¨æˆ·çš„æ•°æ®"""
        return query.filter(User.id == user_id)
    
    @staticmethod
    def validate_resource_ownership(resource, user_id: UUID):
        """éªŒè¯èµ„æºæ‰€æœ‰æƒ"""
        if resource.user_id != user_id:
            raise HTTPException(403, "èµ„æºä¸å±äºå½“å‰ç”¨æˆ·")
```

#### 2.2 ç®¡ç†å‘˜æ•°æ®è®¿é—®ç­–ç•¥

```python
class AdminDataAccessControl:
    """ç®¡ç†å‘˜æ•°æ®è®¿é—®æ§åˆ¶"""
    
    @staticmethod
    def get_user_summary(user_id: UUID):
        """è·å–ç”¨æˆ·æ‘˜è¦ä¿¡æ¯ï¼ˆä¸åŒ…å«æ•æ„Ÿè¯¦æƒ…ï¼‰"""
        return {
            "id": user.id,
            "username": user.username,
            "email": user.email,
            "is_active": user.is_active,
            "created_at": user.created_at,
            "last_login_at": user.last_login_at,
            # ä¸åŒ…å«å…·ä½“çš„äº¤æ˜“è®°å½•ã€å¯†ç ç­‰æ•æ„Ÿä¿¡æ¯
            "cards_count": user.cards.count(),
            "transactions_count": user.transactions.count()
        }
    
    @staticmethod
    def get_system_statistics():
        """è·å–ç³»ç»Ÿç»Ÿè®¡æ•°æ®"""
        return {
            "total_users": db.query(User).count(),
            "active_users": db.query(User).filter(User.is_active == True).count(),
            "total_transactions": db.query(Transaction).count(),
            # åªç»Ÿè®¡æ•°é‡ï¼Œä¸æ¶‰åŠå…·ä½“å†…å®¹
        }
```

## ğŸ“Š æ•°æ®æ¨¡å‹è®¾è®¡

### 1. å“åº”æ ¼å¼æ ‡å‡†åŒ–

#### 1.1 æˆåŠŸå“åº”æ ¼å¼

```python
class ApiResponse(BaseModel):
    success: bool = True
    code: int = 200
    message: str = "æ“ä½œæˆåŠŸ"
    data: Optional[Any] = None
    timestamp: datetime = Field(default_factory=lambda: datetime.now(UTC))
```

#### 1.2 åˆ†é¡µå“åº”æ ¼å¼

```python
class ApiPagedResponse(BaseModel):
    success: bool = True
    code: int = 200
    message: str = "æŸ¥è¯¢æˆåŠŸ"
    data: List[Any] = []
    pagination: PaginationInfo
    timestamp: datetime = Field(default_factory=lambda: datetime.now(UTC))

class PaginationInfo(BaseModel):
    current_page: int
    page_size: int
    total: int
    total_pages: int
    has_next: bool
    has_prev: bool
```

#### 1.3 é”™è¯¯å“åº”æ ¼å¼

```python
class ApiErrorResponse(BaseModel):
    success: bool = False
    code: int
    message: str
    error_detail: Optional[str] = None
    error_code: Optional[str] = None
    timestamp: datetime = Field(default_factory=lambda: datetime.now(UTC))
```

### 2. æƒé™ç›¸å…³æ¨¡å‹

#### 2.1 ç”¨æˆ·æƒé™æ¨¡å‹

```python
class UserPermissions(BaseModel):
    can_read_own_data: bool = True
    can_write_own_data: bool = True
    can_delete_own_data: bool = True
    can_view_statistics: bool = True

class AdminPermissions(BaseModel):
    can_manage_users: bool = True
    can_view_system_data: bool = True
    can_modify_system_config: bool = True
    can_access_analytics: bool = True
```

## ğŸ›¡ï¸ å®‰å…¨è®¾è®¡

### 1. è®¤è¯å®‰å…¨

#### 1.1 ä»¤ç‰Œç®¡ç†
- **è®¿é—®ä»¤ç‰Œè¿‡æœŸæ—¶é—´**: 2å°æ—¶
- **åˆ·æ–°ä»¤ç‰Œè¿‡æœŸæ—¶é—´**: 30å¤©
- **ä»¤ç‰Œé»‘åå•æœºåˆ¶**: æ”¯æŒä»¤ç‰Œæ’¤é”€
- **è®¾å¤‡ç»‘å®š**: å¯é€‰çš„è®¾å¤‡IDéªŒè¯

#### 1.2 å¯†ç å®‰å…¨
- **å¯†ç å¼ºåº¦è¦æ±‚**: è‡³å°‘8ä½ï¼ŒåŒ…å«å­—æ¯æ•°å­—
- **å¯†ç åŠ å¯†**: ä½¿ç”¨bcryptåŠ å¯†å­˜å‚¨
- **ç™»å½•å°è¯•é™åˆ¶**: 5æ¬¡å¤±è´¥åä¸´æ—¶é”å®š
- **å¯†ç å†å²**: é˜²æ­¢é‡å¤ä½¿ç”¨æœ€è¿‘çš„å¯†ç 

### 2. æˆæƒå®‰å…¨

#### 2.1 æƒé™éªŒè¯
- **ä»¤ç‰Œæœ‰æ•ˆæ€§æ£€æŸ¥**: æ¯æ¬¡è¯·æ±‚éªŒè¯ä»¤ç‰Œ
- **æƒé™ç­‰çº§æ£€æŸ¥**: ä¸¥æ ¼æŒ‰ç…§ç­‰çº§è¿›è¡Œæƒé™éªŒè¯
- **èµ„æºæ‰€æœ‰æƒéªŒè¯**: ç¡®ä¿ç”¨æˆ·åªèƒ½è®¿é—®è‡ªå·±çš„èµ„æº
- **æ“ä½œå®¡è®¡**: è®°å½•æ‰€æœ‰é‡è¦æ“ä½œ

#### 2.2 æ•°æ®ä¿æŠ¤
- **æ•æ„Ÿæ•°æ®è„±æ•**: è¿”å›æ•°æ®æ—¶éšè—æ•æ„Ÿä¿¡æ¯
- **ä¼ è¾“åŠ å¯†**: å¼ºåˆ¶ä½¿ç”¨HTTPS
- **æ•°æ®å®Œæ•´æ€§**: é˜²æ­¢æ•°æ®ç¯¡æ”¹
- **è®¿é—®æ—¥å¿—**: è¯¦ç»†è®°å½•æ•°æ®è®¿é—®æ—¥å¿—

### 3. ç³»ç»Ÿå®‰å…¨

#### 3.1 é˜²æŠ¤æœºåˆ¶
- **SQLæ³¨å…¥é˜²æŠ¤**: ä½¿ç”¨ORMå’Œå‚æ•°åŒ–æŸ¥è¯¢
- **XSSé˜²æŠ¤**: è¾“å…¥éªŒè¯å’Œè¾“å‡ºè½¬ä¹‰
- **CSRFé˜²æŠ¤**: ä½¿ç”¨CSRFä»¤ç‰Œ
- **DDoSé˜²æŠ¤**: è¯·æ±‚é¢‘ç‡é™åˆ¶

#### 3.2 ç›‘æ§å‘Šè­¦
- **å¼‚å¸¸ç™»å½•æ£€æµ‹**: æ£€æµ‹å¼‚å¸¸ç™»å½•è¡Œä¸º
- **æƒé™æå‡æ£€æµ‹**: æ£€æµ‹æƒé™æå‡å°è¯•
- **æ•°æ®è®¿é—®ç›‘æ§**: ç›‘æ§å¼‚å¸¸æ•°æ®è®¿é—®
- **ç³»ç»Ÿå¥åº·ç›‘æ§**: å®æ—¶ç›‘æ§ç³»ç»ŸçŠ¶æ€

## ğŸš€ å®æ–½è®¡åˆ’

### ç¬¬ä¸€é˜¶æ®µï¼šæ¶æ„é‡æ„ï¼ˆ2-3å‘¨ï¼‰

#### 1.1 ç‰ˆæœ¬æ§åˆ¶å’Œè·¯ç”±é‡ç»„
- [ ] åˆ›å»ºv1ç‰ˆæœ¬è·¯ç”±ç»“æ„ (/api/v1/)
- [ ] è¿ç§»ç°æœ‰æ¥å£åˆ°æ–°ç‰ˆæœ¬è·¯ç”±
- [ ] å®ç°ç‰ˆæœ¬å…¼å®¹æ€§æ£€æŸ¥ä¸­é—´ä»¶
- [ ] å®ç°æƒé™ä¸­é—´ä»¶
- [ ] æ›´æ–°æ¥å£æ–‡æ¡£ï¼ˆåŒ…å«ç‰ˆæœ¬ä¿¡æ¯ï¼‰

#### 1.2 æƒé™ç³»ç»Ÿ
- [ ] å®ç°è®¤è¯ä¾èµ–å‡½æ•°
- [ ] æ·»åŠ æƒé™éªŒè¯é€»è¾‘
- [ ] åˆ›å»ºæ•°æ®è®¿é—®æ§åˆ¶ç±»
- [ ] æµ‹è¯•æƒé™éªŒè¯

#### 1.3 ç”¨æˆ·åŠŸèƒ½åŒº
- [ ] é‡æ„ç”¨æˆ·ä¸ªäººèµ„æ–™æ¥å£
- [ ] è¿ç§»ä¿¡ç”¨å¡ç®¡ç†æ¥å£
- [ ] è¿ç§»äº¤æ˜“ç®¡ç†æ¥å£
- [ ] æ›´æ–°ç»Ÿè®¡æ¥å£

### ç¬¬äºŒé˜¶æ®µï¼šç®¡ç†åŠŸèƒ½ï¼ˆ2-3å‘¨ï¼‰

#### 2.1 ç®¡ç†å‘˜é¢æ¿
- [ ] å®ç°ç³»ç»Ÿæ€»è§ˆæ¥å£
- [ ] åˆ›å»ºå…³é”®æŒ‡æ ‡æ¥å£
- [ ] æ·»åŠ ç³»ç»Ÿè­¦æŠ¥åŠŸèƒ½
- [ ] å®ç°æ´»åŠ¨ç›‘æ§

#### 2.2 ç”¨æˆ·ç®¡ç†
- [ ] é‡æ„ç”¨æˆ·ç®¡ç†æ¥å£
- [ ] æ·»åŠ æƒé™ç®¡ç†åŠŸèƒ½
- [ ] å®ç°ç”¨æˆ·ç»Ÿè®¡åˆ†æ
- [ ] åˆ›å»ºæ“ä½œå®¡è®¡æ—¥å¿—

#### 2.3 ç³»ç»Ÿç®¡ç†
- [ ] å®ç°ç³»ç»Ÿé…ç½®ç®¡ç†
- [ ] æ·»åŠ ç³»ç»Ÿæ—¥å¿—æŸ¥çœ‹
- [ ] åˆ›å»ºç›‘æ§å‘Šè­¦ç³»ç»Ÿ
- [ ] å®ç°ç»´æŠ¤æ¨¡å¼

### ç¬¬ä¸‰é˜¶æ®µï¼šä¼˜åŒ–å®Œå–„ï¼ˆ1-2å‘¨ï¼‰

#### 3.1 æ€§èƒ½ä¼˜åŒ–
- [ ] æ•°æ®åº“æŸ¥è¯¢ä¼˜åŒ–
- [ ] ç¼“å­˜ç­–ç•¥å®ç°
- [ ] æ¥å£å“åº”æ—¶é—´ä¼˜åŒ–
- [ ] å¹¶å‘å¤„ç†ä¼˜åŒ–

#### 3.2 å®‰å…¨åŠ å›º
- [ ] å®‰å…¨æµ‹è¯•å’Œä¿®å¤
- [ ] æƒé™æµ‹è¯•å®Œå–„
- [ ] å®¡è®¡æ—¥å¿—å®Œå–„
- [ ] ç›‘æ§å‘Šè­¦è°ƒä¼˜

#### 3.3 æ–‡æ¡£å’Œæµ‹è¯•
- [ ] å®Œå–„APIæ–‡æ¡£
- [ ] ç¼–å†™ç”¨æˆ·æŒ‡å—
- [ ] å®Œå–„æµ‹è¯•ç”¨ä¾‹
- [ ] æ€§èƒ½æµ‹è¯•

## ğŸ“š å¼€å‘è§„èŒƒ

### 1. ä»£ç è§„èŒƒ

#### 1.1 è·¯ç”±å®šä¹‰è§„èŒƒ
```python
# ç”¨æˆ·åŠŸèƒ½è·¯ç”±ç¤ºä¾‹ï¼ˆv1ç‰ˆæœ¬ï¼‰
@router.get(
    "/list",
    response_model=ApiPagedResponse[CardResponse],
    summary="è·å–æˆ‘çš„ä¿¡ç”¨å¡åˆ—è¡¨",
    description="è·å–å½“å‰ç”¨æˆ·çš„æ‰€æœ‰ä¿¡ç”¨å¡ï¼Œæ”¯æŒåˆ†é¡µå’Œç­›é€‰",
    tags=["v1-ç”¨æˆ·-ä¿¡ç”¨å¡ç®¡ç†"]
)
async def get_my_cards(
    page: int = Query(1, ge=1, description="é¡µç ï¼Œä»1å¼€å§‹"),
    page_size: int = Query(20, ge=1, le=100, description="æ¯é¡µæ•°é‡"),
    current_user: UserProfile = Depends(get_current_user),
    db: Session = Depends(get_db)
):
    """è·å–å½“å‰ç”¨æˆ·çš„ä¿¡ç”¨å¡åˆ—è¡¨ - API v1"""
```

#### 1.2 æƒé™æ£€æŸ¥è§„èŒƒ
```python
# æ¯ä¸ªéœ€è¦æƒé™çš„æ¥å£éƒ½åº”è¯¥æ˜ç¡®æ£€æŸ¥æƒé™
async def update_card(
    card_id: UUID,
    card_data: CardUpdateRequest,
    current_user: UserProfile = Depends(get_current_user),
    db: Session = Depends(get_db)
):
    # 1. è·å–èµ„æº
    card = cards_service.get_card_by_id(card_id)
    if not card:
        raise HTTPException(404, "ä¿¡ç”¨å¡ä¸å­˜åœ¨")
    
    # 2. æƒé™æ£€æŸ¥
    if card.user_id != current_user.id:
        raise HTTPException(403, "åªèƒ½ä¿®æ”¹è‡ªå·±çš„ä¿¡ç”¨å¡")
    
    # 3. æ‰§è¡Œæ“ä½œ
    return cards_service.update_card(card_id, card_data)
```

### 2. æµ‹è¯•è§„èŒƒ

#### 2.1 ç”¨æˆ·åŠŸèƒ½æµ‹è¯•
```python
class TestUserCards:
    def test_get_my_cards_success(self):
        """æµ‹è¯•è·å–ç”¨æˆ·ä¿¡ç”¨å¡æˆåŠŸ - v1 API"""
        response = self.client.get("/api/v1/user/cards/list", headers=self.headers)
        assert response.status_code == 200
        data = response.json()
        assert data["success"] is True
        assert "data" in data
        assert "pagination" in data

    def test_get_other_user_cards_forbidden(self):
        """æµ‹è¯•æ— æ³•è·å–å…¶ä»–ç”¨æˆ·çš„ä¿¡ç”¨å¡ - v1 API"""
        # å°è¯•è®¿é—®å…¶ä»–ç”¨æˆ·çš„èµ„æºåº”è¯¥è¢«æ‹’ç»
        other_card_id = "other-user-card-id"
        response = self.client.get(f"/api/v1/user/cards/{other_card_id}/details", 
                                  headers=self.headers)
        assert response.status_code == 403
```

#### 2.2 ç®¡ç†å‘˜åŠŸèƒ½æµ‹è¯•
```python
class TestAdminUsers:
    def test_admin_get_users_list(self):
        """æµ‹è¯•ç®¡ç†å‘˜è·å–ç”¨æˆ·åˆ—è¡¨ - v1 API"""
        response = self.client.get("/api/v1/admin/users/list", headers=self.admin_headers)
        assert response.status_code == 200
        
    def test_user_cannot_access_admin_endpoint(self):
        """æµ‹è¯•æ™®é€šç”¨æˆ·æ— æ³•è®¿é—®ç®¡ç†å‘˜æ¥å£ - v1 API"""
        response = self.client.get("/api/v1/admin/users/list", headers=self.user_headers)
        assert response.status_code == 403
```

## ğŸ“– APIä½¿ç”¨ç¤ºä¾‹

### 1. ç”¨æˆ·åŠŸèƒ½ä½¿ç”¨ç¤ºä¾‹

#### 1.1 ç”¨æˆ·æ³¨å†Œå’Œç™»å½•
```bash
# ç”¨æˆ·æ³¨å†Œ
curl -X POST "http://localhost:8000/api/v1/public/auth/register" \
  -H "Content-Type: application/json" \
  -d '{
    "username": "newuser",
    "email": "newuser@example.com",
    "password": "SecurePass123",
    "nickname": "æ–°ç”¨æˆ·"
  }'

# ç”¨æˆ·ç™»å½•
curl -X POST "http://localhost:8000/api/v1/public/auth/login/username" \
  -H "Content-Type: application/json" \
  -d '{
    "username": "newuser",
    "password": "SecurePass123"
  }'
```

#### 1.2 ç®¡ç†ä¸ªäººä¿¡ç”¨å¡
```bash
# è·å–æˆ‘çš„ä¿¡ç”¨å¡åˆ—è¡¨
curl -X GET "http://localhost:8000/api/v1/user/cards/list?page=1&page_size=10" \
  -H "Authorization: Bearer <user_token>"

# æ·»åŠ æ–°ä¿¡ç”¨å¡
curl -X POST "http://localhost:8000/api/v1/user/cards/create" \
  -H "Authorization: Bearer <user_token>" \
  -H "Content-Type: application/json" \
  -d '{
    "card_number": "4111111111111111",
    "card_name": "æˆ‘çš„ä¸»å¡",
    "bank_name": "æ‹›å•†é“¶è¡Œ",
    "credit_limit": 50000,
    "expiry_month": 12,
    "expiry_year": 2027
  }'
```

#### 1.3 æŸ¥çœ‹ä¸ªäººç»Ÿè®¡
```bash
# è·å–ä¸ªäººæ•°æ®æ€»è§ˆ
curl -X GET "http://localhost:8000/api/v1/user/statistics/overview" \
  -H "Authorization: Bearer <user_token>"

# è·å–æœˆåº¦è¶‹åŠ¿
curl -X GET "http://localhost:8000/api/v1/user/statistics/monthly-trends?months=6" \
  -H "Authorization: Bearer <user_token>"
```

### 2. ç®¡ç†å‘˜åŠŸèƒ½ä½¿ç”¨ç¤ºä¾‹

#### 2.1 ç”¨æˆ·ç®¡ç†
```bash
# è·å–ç”¨æˆ·åˆ—è¡¨
curl -X GET "http://localhost:8000/api/v1/admin/users/list?page=1&page_size=20" \
  -H "Authorization: Bearer <admin_token>"

# ä¿®æ”¹ç”¨æˆ·çŠ¶æ€
curl -X PUT "http://localhost:8000/api/v1/admin/users/{user_id}/status" \
  -H "Authorization: Bearer <admin_token>" \
  -H "Content-Type: application/json" \
  -d '{"is_active": false}'
```

#### 2.2 ç³»ç»Ÿç›‘æ§
```bash
# è·å–ç³»ç»Ÿæ€»è§ˆ
curl -X GET "http://localhost:8000/api/v1/admin/dashboard/overview" \
  -H "Authorization: Bearer <admin_token>"

# è·å–ç³»ç»Ÿé…ç½®
curl -X GET "http://localhost:8000/api/v1/admin/system/config" \
  -H "Authorization: Bearer <admin_token>"
```

## ğŸ”§ é…ç½®å‚æ•°

### 1. è®¤è¯é…ç½®
```python
# JWTé…ç½®
JWT_SECRET_KEY = "your-secret-key"
JWT_ALGORITHM = "HS256"
JWT_ACCESS_TOKEN_EXPIRE_MINUTES = 120  # 2å°æ—¶
JWT_REFRESH_TOKEN_EXPIRE_DAYS = 30     # 30å¤©

# å¯†ç é…ç½®
PASSWORD_MIN_LENGTH = 8
PASSWORD_REQUIRE_SPECIAL_CHARS = False
LOGIN_ATTEMPT_LIMIT = 5
LOGIN_LOCKOUT_MINUTES = 15
```

### 2. æƒé™é…ç½®
```python
# æƒé™çº§åˆ«
PERMISSION_LEVELS = {
    "PUBLIC": 1,
    "USER": 2,
    "ADMIN": 3
}

# é»˜è®¤æƒé™
DEFAULT_USER_PERMISSIONS = [
    "read:own_profile",
    "write:own_profile",
    "read:own_cards",
    "write:own_cards"
]

DEFAULT_ADMIN_PERMISSIONS = [
    "read:all_users",
    "write:user_status",
    "read:system_config",
    "write:system_config"
]
```

### 3. ç³»ç»Ÿé…ç½®
```python
# APIé…ç½®
API_RATE_LIMIT = "100/minute"
API_RESPONSE_TIMEOUT = 30  # ç§’
MAX_PAGE_SIZE = 100
DEFAULT_PAGE_SIZE = 20

# å®‰å…¨é…ç½®
HTTPS_ONLY = True
CORS_ORIGINS = ["http://localhost:3000"]
ENABLE_AUDIT_LOG = True
```

## ğŸ“‹ æ£€æŸ¥æ¸…å•

### 1. æ¶æ„å®æ–½æ£€æŸ¥
- [ ] è·¯ç”±ç»“æ„æ˜¯å¦æŒ‰ç…§è®¾è®¡å®ç°
- [ ] æƒé™éªŒè¯æ˜¯å¦åœ¨æ¯ä¸ªæ¥å£æ­£ç¡®å®æ–½
- [ ] æ•°æ®è®¿é—®æ˜¯å¦æ­£ç¡®éš”ç¦»
- [ ] å“åº”æ ¼å¼æ˜¯å¦ç»Ÿä¸€æ ‡å‡†åŒ–

### 2. å®‰å…¨æ£€æŸ¥
- [ ] æ‰€æœ‰ç”¨æˆ·æ•°æ®æ˜¯å¦æ­£ç¡®éš”ç¦»
- [ ] ç®¡ç†å‘˜æƒé™æ˜¯å¦æ­£ç¡®é™åˆ¶
- [ ] æ•æ„Ÿä¿¡æ¯æ˜¯å¦æ­£ç¡®è„±æ•
- [ ] è®¤è¯ä»¤ç‰Œæ˜¯å¦å®‰å…¨ç®¡ç†

### 3. åŠŸèƒ½æ£€æŸ¥
- [ ] ç”¨æˆ·åŠŸèƒ½æ˜¯å¦å®Œæ•´è¿ç§»
- [ ] ç®¡ç†å‘˜åŠŸèƒ½æ˜¯å¦æ­£ç¡®å®ç°
- [ ] å…¬å¼€æ¥å£æ˜¯å¦æ­£å¸¸å·¥ä½œ
- [ ] é”™è¯¯å¤„ç†æ˜¯å¦å®Œå–„

### 4. æ€§èƒ½æ£€æŸ¥
- [ ] æ¥å£å“åº”æ—¶é—´æ˜¯å¦æ»¡è¶³è¦æ±‚
- [ ] æ•°æ®åº“æŸ¥è¯¢æ˜¯å¦ä¼˜åŒ–
- [ ] ç¼“å­˜ç­–ç•¥æ˜¯å¦æœ‰æ•ˆ
- [ ] å¹¶å‘å¤„ç†æ˜¯å¦ç¨³å®š

### 5. æ–‡æ¡£æ£€æŸ¥
- [ ] APIæ–‡æ¡£æ˜¯å¦å®Œæ•´æ›´æ–°
- [ ] ä½¿ç”¨ç¤ºä¾‹æ˜¯å¦æ­£ç¡®
- [ ] æƒé™è¯´æ˜æ˜¯å¦æ¸…æ™°
- [ ] è¿ç§»æŒ‡å—æ˜¯å¦å®Œå–„

## ğŸ“ è”ç³»ä¿¡æ¯

**é¡¹ç›®è´Ÿè´£äºº**: LEO  
**é‚®ç®±**: leoyfm@gmail.com  
**æ–‡æ¡£ç‰ˆæœ¬**: v1.0  
**æœ€åæ›´æ–°**: 2024å¹´12æœˆ

---

*æœ¬æ–‡æ¡£å°†éšç€é¡¹ç›®è¿›å±•æŒç»­æ›´æ–°ï¼Œè¯·å…³æ³¨æœ€æ–°ç‰ˆæœ¬ã€‚* 